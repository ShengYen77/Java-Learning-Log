# ⭐檔案處理

文字檔案的讀寫(Text File Input/Output)

| 常用類別          | 功能說明                          |
|------------------|-----------------------------------|
| `FileWriter`     | 用來**寫入文字檔**（輸出）       |
| `FileReader`     | 用來**讀取文字檔**（輸入）       |
| `BufferedWriter` | 包裝 `FileWriter`，提升寫入效率  |
| `BufferedReader` | 包裝 `FileReader`，提升讀取效率  |

範例程式碼-FileWrite

```
import java.io.FileWriter;
import java.io.IOException;

public class Main {
    public static void main(String[] args) {
        try {
            FileWriter writer = new FileWriter("message.txt");
            writer.write("Hello, world!\n");
            writer.write("This is a test message.\n");
            writer.close();
            System.out.println("寫入完成！");
        } catch (IOException e) {
            System.out.println("發生錯誤：" + e.getMessage());
        }
    }
}
```

FileWriter("message.txt") : 我們首先建立一個指向檔案的寫入器，若檔案不存在會自動建立。

write.write(...) : 寫入字串。所以此例寫Hello, world! This is a test message.(後面有加 \n 表示下一行)

write.close() : 關閉檔案，非常重要的一步，否則可能造成資料未寫入完成。(要養成隨手關閉好習慣)

執行結果可以在目錄看到message.txt檔，並且內容為

Hello, world!

This is a test message.
代表成功 "寫入完成!"
----
範例程式碼-ReadTextFile

```
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class ReadTextFile {
    public static void main(String[] args) {
        try {
            BufferedReader reader = new BufferedReader(new FileReader("message.txt"));
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println("讀到一行：" + line);
            }
            reader.close();
        } catch (IOException e) {
            System.out.println("讀取失敗：" + e.getMessage());
        }
    }
}
```
BufferedReader.readline() : 每次讀一行，直到null表示讀完。

read.close : 關閉檔案，和寫入一樣，讀完後要close()，養成好習慣。

